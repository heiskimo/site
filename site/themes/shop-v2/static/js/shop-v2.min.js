"use strict";var buyButtonDefaultText="";function changeLanguage(e){console.log("change lang",e.target.value),document.location.href=e.target.value}function openMenu(e){e.preventDefault(),document.body.classList.add("body--mobile-menu-opened"),document.addEventListener("touchmove",preventMobileScroll,{passive:!1})}function closeMenu(e){e.preventDefault(),document.body.classList.remove("body--mobile-menu-opened"),document.removeEventListener("touchmove",preventMobileScroll,{passive:!1})}function preventMobileScroll(e){e.preventDefault()}function goDown(e){e.preventDefault(),document.documentElement.scrollTop=document.querySelector("#about").offsetTop}function pictureZoomerClick(e){e.preventDefault(),loadZoom(this.attributes.href.value)}function loadZoom(e){var t=document.querySelector(".pz__zoom"),o=document.querySelector(".pz__lightbox"),n=t.querySelector("img"),i=o.querySelector("img"),r=new Image;r.onload=function(){console.log("loaded"),n.src=this.src,i.src=this.src},r.src=e;var c=t.querySelector("a");c.href=e,c.addEventListener("click",openLightbox)}function openLightbox(e){e.preventDefault(),document.body.classList.add("body--lightbox-visible"),document.querySelector(".pz__lightbox").addEventListener("click",closeLightbox),document.addEventListener("touchmove",preventMobileLightboxScroll,{passive:!1}),document.addEventListener("keyup",keyupLightbox)}function closeLightbox(){document.body.classList.remove("body--lightbox-visible"),document.querySelector(".pz__lightbox").removeEventListener("click",closeLightbox),document.removeEventListener("touchmove",preventMobileLightboxScroll,{passive:!1}),document.removeEventListener("keyup",keyupLightbox)}function preventMobileLightboxScroll(e){e.target.tagName&&"IMG"===e.target.tagName||e.preventDefault()}Snipcart.subscribe("item.adding",function(e,t,o){console.log("***** ADDDINGGGG");var n=document.querySelector(".snipcart-add-item");n&&(buyButtonDefaultText=n.innerText,n.innerText="Ajout....")}),Snipcart.subscribe("item.added",function(e){console.log("***** ADDED",e);var t=document.querySelector(".snipcart-add-item");t&&(t.innerText=buyButtonDefaultText)}),instagramFeed(),document.addEventListener("DOMContentLoaded",function(){document.getElementById("lang").addEventListener("change",changeLanguage);var e=document.getElementById("mobile-menu-open");e.addEventListener("touchstart",openMenu),e.addEventListener("click",openMenu);var t=document.getElementById("mobile-menu-close");t.addEventListener("touchstart",closeMenu),t.addEventListener("click",closeMenu);var o=document.getElementById("scroll-down");o&&o.addEventListener("click",goDown);var n=document.getElementById("picture-zoomer");if(n){var i=n.querySelector(".pz__list").querySelectorAll("a");i&&(i.forEach(function(e){e.addEventListener("click",pictureZoomerClick)}),loadZoom(i[0].attributes.href.value))}});var imgPosition=0,imgCurrentPosition=0;function keyupLightbox(e){console.log("key",e);var t=document.querySelector(".pz__lightbox"),o=t.querySelector("img"),n=document.querySelector(".pz__list").querySelectorAll("a");n.forEach(function(e){e.attributes.href===o.src&&(imgCurrentPosition=imgPosition),imgPosition++}),t.classList.remove("pz__lightbox--animation-from-left","pz__lightbox--animation-from-right"),setTimeout(function(){37===e.keyCode&&0<imgCurrentPosition?(imgCurrentPosition-=1,t.classList.add("pz__lightbox--animation-from-left"),loadZoom(n[imgCurrentPosition])):39===e.keyCode&&imgCurrentPosition<n.length-1&&(imgCurrentPosition+=1,t.classList.add("pz__lightbox--animation-from-right"),loadZoom(n[imgCurrentPosition]))},0)}function instagramFeed(){var t=document.getElementById("instafeed");if(t){var e=document.createElement("script");window.writeFeed=function(e){e.data.forEach(function(e){t.innerHTML+='\n                <a href="'+e.link+'" target="_blank" class="picture">\n                    <img src="'+e.images.low_resolution.url+'" alt="">\n                    <span>'+e.caption.text+"</span>\n                </a>\n                "})},e.setAttribute("src","https://api.instagram.com/v1/users/self/media/recent?access_token=181433493.bbfd1e2.029419edb93d4945b471ecffee384cf3&count=6&callback=writeFeed"),document.body.appendChild(e)}}